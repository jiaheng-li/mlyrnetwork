axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
#legend.title = element_text( size = 30),
legend.text = element_text( size = 30),
#legend.position = "top",
legend.key.width = unit(5, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 600)
fig
dev.off()
fig <- ggplot(df,aes(x = Size, y =MPLE)) +
scale_y_continuous(breaks=seq(0,1,0.1)) + ylim(0,1) +
geom_boxplot(aes(fill=Layer)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
#legend.key.width = unit(5, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 600)
fig
dev.off()
fig <- ggplot(df,aes(x = Size, y =MPLE)) +
scale_y_continuous(breaks=seq(0,1,0.1)) + ylim(0,1) +
geom_boxplot(aes(fill=Layer)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(3, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 600)
fig
dev.off()
png(file="L2_error.png",width = 1280, height = 960)
fig
dev.off()
fig <- ggplot(df,aes(x = Size, y =MPLE)) +
scale_y_continuous(breaks=seq(0,0.7,0.1)) + ylim(0,0.7) +
geom_boxplot(aes(fill=Layer)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(5, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1024, height = 768)
fig
dev.off()
png(file="L2_error.png",width = 1280, height = 768)
fig
dev.off()
fig <- ggplot(df,aes(x = Size, y =MPLE)) +
scale_y_continuous(breaks=seq(0,0.7,0.1)) + ylim(0,0.7) +
geom_boxplot(aes(fill=Layer)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(3, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 768)
fig
dev.off()
fig <- ggplot(df,aes(x = Size, y =MPLE)) +
scale_y_continuous(breaks=seq(0,0.7,0.1)) + ylim(0,0.7) +
geom_boxplot(aes(fill=Layer)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error",color = "Number of layers") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(3, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 768)
fig
dev.off()
fig <- ggplot(df,aes(x = Size, y =MPLE)) +
scale_y_continuous(breaks=seq(0,0.7,0.1)) + ylim(0,0.7) +
geom_boxplot(aes(fill=Layer)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error",color = "Number of layers") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(3, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 768)
fig
dev.off()
fig <- ggplot(df,aes(x = Size, y =MPLE,color = Layer)) +
scale_y_continuous(breaks=seq(0,0.7,0.1)) + ylim(0,0.7) +
geom_boxplot(aes(fill=Layer)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error",color = "Number of layers") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(3, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 768)
fig
dev.off()
fig <- ggplot(df,aes(x = Size, y =MPLE,color = Layer)) +
scale_y_continuous(breaks=seq(0,0.7,0.1)) + ylim(0,0.7) +
geom_boxplot(aes(fill='grey')) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error",color = "Number of layers") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(3, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 768)
fig
dev.off()
fig <- ggplot(df,aes(x = Size, y =MPLE)) +
scale_y_continuous(breaks=seq(0,0.7,0.1)) + ylim(0,0.7) +
geom_boxplot(aes(fill=Layer)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error",color = "Number of layers") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(3, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 768)
fig
dev.off()
?legend.title
names(df) <- c("Number of Layer","Size","MPLE")
df$`Number of Layer`
ggplot(data = df, aes(x=Size, y=MPLE)) + geom_boxplot(aes(fill=`Number of Layer`))
names(df) <- c("Number of layers","Size","MPLE")
df$Size <- as.factor(df$Size)
df$`Number of Layer` <- as.factor(df$`Number of Layer`)
df$`Number of layers` <- as.factor(df$`Number of layers`)
fig <- ggplot(df,aes(x = Size, y =MPLE)) +
scale_y_continuous(breaks=seq(0,0.7,0.1)) + ylim(0,0.7) +
geom_boxplot(aes(fill=`Number of layers`)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error",color = "Number of layers") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(3, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 768)
fig
dev.off()
#theta_ind <- c(0.123,0.236,0.332,0.998,1.17,1.554,1.794,1.873,1.949,2.493)
title_name <- c("Dense Bernoulli basis network" , "Sparse Bernoulli basis network", "", "LSM basis network")
fig <- ggplot(df,aes(x = Size, y =MPLE)) +
scale_y_continuous(breaks=seq(0,0.7,0.1)) + ylim(0,0.7) +
geom_boxplot(aes(fill=`Number of layers`)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error",color = "Number of layers") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(3, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 768)
fig
fig <- ggplot(df,aes(x = Size, y =MPLE)) +
scale_y_continuous(breaks=seq(0,0.7,0.1)) + ylim(0,0.7) +
geom_boxplot(aes(fill=`Number of layers`)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error",color = "Number of layers") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(3, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 768)
fig
dev.off()
#theta_ind <- c(0.123,0.236,0.332,0.998,1.17,1.554,1.794,1.873,1.949,2.493)
title_name <- c("Dense Bernoulli basis network" , "Sparse Bernoulli basis network", "Relative L2 errors when the highest order of interaction H = 2", "LSM basis network")
fig <- ggplot(df,aes(x = Size, y =MPLE)) +
scale_y_continuous(breaks=seq(0,0.7,0.1)) + ylim(0,0.7) +
geom_boxplot(aes(fill=`Number of layers`)) +
#geom_boxplot(fill = "grey") +
labs(title = paste0(title_name[ind]) , x = "Number of activated dyads\n", y ="Relative L2 error",color = "Number of layers") +
#labs(title = "" , x = "Network size N\n", y ="Relative error") +
theme_classic() +
theme(plot.title = element_text(hjust = 0.5,size = 20),
plot.margin = margin(0.5,0.5,0.5,0.5,"cm"),
axis.text = element_text(size=20),
axis.title=element_text(size=20),
panel.border = element_rect(colour = "black", fill=NA,linewidth = 2),
legend.title = element_text( size = 20),
legend.text = element_text( size = 20),
#legend.position = "top",
legend.key.width = unit(3, 'cm')
#legend.background = element_blank(),
)+
#legend.box.background = element_rect(colour = "black",linewidth = 1)) +
geom_hline(aes(yintercept=0, linetype = "dashed" ), color = "red",
linewidth=1.5) +
scale_linetype_manual(name="", values=c(2))
png(file="L2_error.png",width = 1280, height = 768)
fig
dev.off()
choose(300,2)
choose(200,2)
choose(250,2)
choose(500,2)
rm(list = ls())
setwd("C:/Users/ljhhe/OneDrive - Florida State University/GitHub/mlyrnetwork")
library("devtools")
devtools::document()
sbm <- generate_SBM_basis()
N=3*10; num_of_block = 3; p_within=0.5; p_between=0.1,M=0
sbm <- generate_SBM_basis()
N=3*10; num_of_block = 3; p_within=0.5; p_between=0;M=0
sbm <- generate_SBM_basis()
matrix(0,N,N)
adj <- matrix(0,N,N)
N=3*10; num_of_block = 3; p_within=0.5; p_between=0;M=0
sbm <- generate_SBM_basis()
adj <- matrix(0,N,N)
i <- 1
while(i < length(sbm)){
adj[sbm[i],sbm[i+1]] <- 1
adj[sbm[i+1],sbm[i]] <- 1
i <- i + 2
}
adj
library(ergm)
net <- as.network(adj, directed = FALSE)
plot(net)
N=3*75; num_of_block = 3; p_within=0.5; p_between=0;M=0
sbm <- generate_SBM_basis()
adj <- matrix(0,N,N)
i <- 1
while(i < length(sbm)){
adj[sbm[i],sbm[i+1]] <- 1
adj[sbm[i+1],sbm[i]] <- 1
i <- i + 2
}
library(ergm)
net <- as.network(adj, directed = FALSE)
plot(net)
View(adj)
sbm
sbm <- generate_SBM_basis()
sbm
sbm <- generate_SBM_basis(N, num_of_block,p_within,p_between,M)
sbm
adj <- matrix(0,N,N)
i <- 1
while(i < length(sbm)){
adj[sbm[i],sbm[i+1]] <- 1
adj[sbm[i+1],sbm[i]] <- 1
i <- i + 2
}
library(ergm)
net <- as.network(adj, directed = FALSE)
plot(net)
N=3*75; num_of_block = 3; p_within=0.5; p_between=0; M=0.1
sbm <- generate_SBM_basis(N, num_of_block,p_within,p_between,M)
adj <- matrix(0,N,N)
i <- 1
while(i < length(sbm)){
adj[sbm[i],sbm[i+1]] <- 1
adj[sbm[i+1],sbm[i]] <- 1
i <- i + 2
}
library(ergm)
net <- as.network(adj, directed = FALSE)
plot(net)
N=3*75; num_of_block = 3; p_within=0.5; p_between=0.1; M=0
sbm <- generate_SBM_basis(N, num_of_block,p_within,p_between,M)
adj <- matrix(0,N,N)
i <- 1
while(i < length(sbm)){
adj[sbm[i],sbm[i+1]] <- 1
adj[sbm[i+1],sbm[i]] <- 1
i <- i + 2
}
library(ergm)
net <- as.network(adj, directed = FALSE)
plot(net)
N=3*75; num_of_block = 3; p_within=0.5; p_between=0.01; M=0
sbm <- generate_SBM_basis(N, num_of_block,p_within,p_between,M)
adj <- matrix(0,N,N)
i <- 1
while(i < length(sbm)){
adj[sbm[i],sbm[i+1]] <- 1
adj[sbm[i+1],sbm[i]] <- 1
i <- i + 2
}
library(ergm)
net <- as.network(adj, directed = FALSE)
plot(net)
N=3*25; num_of_block = 3; p_within=0.5; p_between=0.01; M=0
sbm <- generate_SBM_basis(N, num_of_block,p_within,p_between,M)
adj <- matrix(0,N,N)
i <- 1
while(i < length(sbm)){
adj[sbm[i],sbm[i+1]] <- 1
adj[sbm[i+1],sbm[i]] <- 1
i <- i + 2
}
library(ergm)
net <- as.network(adj, directed = FALSE)
plot(net)
N=3*25; num_of_block = 3; p_within=0.3; p_between=0.01; M=0
sbm <- generate_SBM_basis(N, num_of_block,p_within,p_between,M)
adj <- matrix(0,N,N)
i <- 1
while(i < length(sbm)){
adj[sbm[i],sbm[i+1]] <- 1
adj[sbm[i+1],sbm[i]] <- 1
i <- i + 2
}
library(ergm)
net <- as.network(adj, directed = FALSE)
plot(net)
N=3*25; num_of_block = 3; p_within=0.3; p_between=0.01; M=100
sbm <- generate_SBM_basis(N, num_of_block,p_within,p_between,M)
adj <- matrix(0,N,N)
i <- 1
while(i < length(sbm)){
adj[sbm[i],sbm[i+1]] <- 1
adj[sbm[i+1],sbm[i]] <- 1
i <- i + 2
}
library(ergm)
net <- as.network(adj, directed = FALSE)
plot(net)
N=3*25; num_of_block = 3; p_within=0.3; p_between=0.01; M=200
sbm <- generate_SBM_basis(N, num_of_block,p_within,p_between,M)
adj <- matrix(0,N,N)
i <- 1
while(i < length(sbm)){
adj[sbm[i],sbm[i+1]] <- 1
adj[sbm[i+1],sbm[i]] <- 1
i <- i + 2
}
library(ergm)
net <- as.network(adj, directed = FALSE)
plot(net)
N=3*25; num_of_block = 3; p_within=0.3; p_between=0.01; M=300
sbm <- generate_SBM_basis(N, num_of_block,p_within,p_between,M)
N=3*25; num_of_block = 3; p_within=0.3; p_between=0.01; M=0
sbm <- generate_SBM_basis(N, num_of_block,p_within,p_between,M)
adj <- matrix(0,N,N)
i <- 1
while(i < length(sbm)){
adj[sbm[i],sbm[i+1]] <- 1
adj[sbm[i+1],sbm[i]] <- 1
i <- i + 2
}
library(ergm)
net <- as.network(adj, directed = FALSE)
plot(net)
