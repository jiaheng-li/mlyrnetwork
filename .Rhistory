sample(10,2)
iid_dyad <- matrix(sample(N,0.3*N , replace = TRUE))
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N,0.3*N , replace = TRUE))
?matrix
iid_dyad <- matrix(sample(N,0.3*N , replace = TRUE),ncol = 2)
0.3*N
iid_dyad <- matrix(sample(N, 2*0.3*N , replace = TRUE),ncol = 2)
iid_dyad
data = Lazega_lawyer_network
k <- max(data[,3])
N <- max(data)
unique_dyads <- unique(data[,1:2])
518/choose(71,2)
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N, 0.2*choose(N,2) , replace = TRUE),ncol = 2)
0.2*choose(N,2)
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2) , replace = TRUE),ncol = 2)
length(iid_dyad)
length(iid_dyad[,1])
1>=1
1>=2
iid_dyad
iid_dyad[-495,]
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
else if(iid_dyad[i,1] == iid_dyad[i,2]){
iid_dyad <- iid_dyad[-i,]
i <- i-1
}
}
iid_dyad
i=401
if(iid_dyad[i,1] > iid_dyad[i,2])
{}
iid_dyad[i,1] > iid_dyad[i,2]
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
iid_dyad
for(i in length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
else if(iid_dyad[i,1] == iid_dyad[i,2]){
iid_dyad <- iid_dyad[-i,]
i <- i-1
print(i)
}
}
iid_dyad
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
# else if(iid_dyad[i,1] == iid_dyad[i,2]){
#   iid_dyad <- iid_dyad[-i,]
#   i <- i-1
#   print(i)
# }
}
iid_dyad
length(iid_dyad[,1])
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
print(i,t)
}
# else if(iid_dyad[i,1] == iid_dyad[i,2]){
#   iid_dyad <- iid_dyad[-i,]
#   i <- i-1
#   print(i)
# }
}
print((i,t))
print(c(i,t))
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
print(c(i,t,iid_dyad[i,1],iid_dyad[i,2]))
}
# else if(iid_dyad[i,1] == iid_dyad[i,2]){
#   iid_dyad <- iid_dyad[-i,]
#   i <- i-1
#   print(i)
# }
}
dyad
iid_dyad
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
print(c(i,t,iid_dyad[i,1],iid_dyad[i,2]))
}
# else if(iid_dyad[i,1] == iid_dyad[i,2]){
#   iid_dyad <- iid_dyad[-i,]
#   i <- i-1
#   print(i)
# }
}
iid_dyad
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
else if(iid_dyad[i,1] == iid_dyad[i,2]){
iid_dyad <- iid_dyad[-i,]
i <- i-1
print(i)
}
}
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
else if(iid_dyad[i,1] == iid_dyad[i,2]){
iid_dyad <- iid_dyad[-i,]
i <- i-1
print(i)
}
}
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
}
iid_dyad[,1] == iid_dyad[,2]
iid_dyad[iid_dyad[,1] == iid_dyad[,2],]
?where
?as.where
?as.which
?which
?unique
which(iid_dyad[,1] == iid_dyad[,2] )
iid_dyad[44,]
iid_dyad[which(iid_dyad[,1] == iid_dyad[,2] ),]
iid_dyad <- iid_dyad[-which(iid_dyad[,1] == iid_dyad[,2] ),]
iid_dyad
which(iid_dyad[,1] == iid_dyad[,2] )
729-518
211/518
sample(2,4)
sample(4,4)
sample(4,1)
sample(4,2)
?sample
cbind(iid_dyad,sample(3,length(iid_dyad[,1]),replace = TRUE))
iid_dyad <- cbind(iid_dyad,sample(3,length(iid_dyad[,1]),replace = TRUE))
randi(1)
runif()
runif(1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
sample(2,1)
a=c(1,2,3)
a
a=a[-1]
a
which(a==1)
which(a==2)
e <- sample(2,1)
sample(a,e)
e <- sample(2,1)
sample(a,e)
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
}
iid_dyad <- iid_dyad[-which(iid_dyad[,1] == iid_dyad[,2]),]
iid_dyad <- cbind(iid_dyad,sample(3,length(iid_dyad[,1]),replace = TRUE))
for(i in 1:length(iid_dyad[,1])){
if(runif(1) < 0.3){
e <- sample(2,1)
a <- c(1,2,3)
a <- a[-which(a == iid_dyad[i,3])]
rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],sample(a,e)))
}
}
warnings()
c(iid_dyad[i,1],iid_dyad[i,2],sample(a,e))
e2 <- sample(a,e)
e2
for(j in e2){}
print(j)
for(j in e2){print(j)}
e <- sample(2,1)
e2 <- sample(a,e)
for(j in e2){print(j)}
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
}
iid_dyad <- iid_dyad[-which(iid_dyad[,1] == iid_dyad[,2]),]
iid_dyad <- cbind(iid_dyad,sample(3,length(iid_dyad[,1]),replace = TRUE))
for(i in 1:length(iid_dyad[,1])){
if(runif(1) < 0.3){
e <- sample(2,1)
a <- c(1,2,3)
a <- a[-which(a == iid_dyad[i,3])]
e2 <- sample(a,e)
for(j in e2){
rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],j))
}
}
}
iid_dyad <- iid_dyad[-which(iid_dyad[,1] == iid_dyad[,2]),]
iid_dyad <- cbind(iid_dyad,sample(3,length(iid_dyad[,1]),replace = TRUE))
for(i in 1:length(iid_dyad[,1])){
if(runif(1) < 0.3){
e <- sample(2,1)
a <- c(1,2,3)
a <- a[-which(a == iid_dyad[i,3])]
e2 <- sample(a,e)
for(j in e2){
iid_dyad <- rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],j))
}
}
}
rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],j))
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
}
iid_dyad <- iid_dyad[-which(iid_dyad[,1] == iid_dyad[,2]),]
iid_dyad <- cbind(iid_dyad,sample(3,length(iid_dyad[,1]),replace = TRUE))
e2
c(iid_dyad[i,1],iid_dyad[i,2],j)
i=1
c(iid_dyad[i,1],iid_dyad[i,2],j)
rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],j))
iid_dyad <- rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],j))
for(i in 1:length(iid_dyad[,1])){
if(runif(1) < 0.3){
e <- sample(2,1)
a <- c(1,2,3)
a <- a[-which(a == iid_dyad[i,3])]
e2 <- sample(a,e)
for(j in e2){
iid_dyad <- rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],j))
}
}
}
### Sample iid dyads ###
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
}
iid_dyad <- iid_dyad[-which(iid_dyad[,1] == iid_dyad[,2]),]
iid_dyad <- cbind(iid_dyad,sample(3,length(iid_dyad[,1]),replace = TRUE))
for(i in 1:length(iid_dyad[,1])){
if(runif(1) < 0.3){
e <- sample(2,1)
a <- c(1,2,3)
a <- a[-which(a == iid_dyad[i,3])]
e2 <- sample(a,e)
for(j in e2){
iid_dyad <- rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],j))
}
}
}
### Sample iid dyads ###
rm(list = ls())
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
}
iid_dyad <- iid_dyad[-which(iid_dyad[,1] == iid_dyad[,2]),]
iid_dyad <- cbind(iid_dyad,sample(3,length(iid_dyad[,1]),replace = TRUE))
for(i in 1:length(iid_dyad[,1])){
if(runif(1) < 0.3){
e <- sample(2,1)
a <- c(1,2,3)
a <- a[-which(a == iid_dyad[i,3])]
e2 <- sample(a,e)
for(j in e2){
iid_dyad <- rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],j))
}
}
}
iid_dyad
comp_inner_prod(iid_dyad)
data=iid_dyad
k <- max(data[,3])
N <- max(data)
unique_dyads <- unique(data[,1:2])
n2 <- length(unique_dyads[,1])
dyad_vec <- matrix(0,n2,k+2)
n1 <- length(data[,1])
ind1 <- data[1,1]
ind2 <- data[1,2]
dyad_ind <- 1
for(i in 1:n1){
if(ind1 == data[i,1] & ind2 == data[i,2]){
dyad_vec[dyad_ind,1] <- ind1
dyad_vec[dyad_ind,2] <- ind2
dyad_vec[dyad_ind,data[i,3]+2] <- 1
}
else{
dyad_ind <- dyad_ind + 1
ind1 <- data[i,1]
ind2 <- data[i,2]
dyad_vec[dyad_ind,1] <- ind1
dyad_vec[dyad_ind,2] <- ind2
#dyad_ind <- data[i,2] - data[i,1] + (N-1 + (N-data[i,1]+1)* (data[i,1]!=2)) * (data[i,1]-1) / (2/((data[i,1]==2)+1))  * (data[i,1]!=1)
dyad_vec[dyad_ind,data[i,3]+2] <- 1
}
}
dyad_vex
dyad_vec
ind1 == data[i,1] & ind2 == data[i,2]
dyad_vec[dyad_ind,1] <- ind1
dyad_vec[dyad_ind,1] <- ind1
dyad_vec[dyad_ind,1] <- ind1
iid_dyad[order(iid_dyad[,1])]
iid_dyad[order(iid_dyad[,1]),]
iid_dyad[order(iid_dyad[,1],iid_dyad[,2]),]
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
iid_dyad[order(iid_dyad[,1],iid_dyad[,2]),]
### Sample iid dyads ###
rm(list = ls())
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
iid_dyad[order(iid_dyad[,1],iid_dyad[,2]),]
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
}
iid_dyad <- iid_dyad[-which(iid_dyad[,1] == iid_dyad[,2]),]
iid_dyad <- cbind(iid_dyad,sample(3,length(iid_dyad[,1]),replace = TRUE))
for(i in 1:length(iid_dyad[,1])){
if(runif(1) < 0.3){
e <- sample(2,1)
a <- c(1,2,3)
a <- a[-which(a == iid_dyad[i,3])]
iter<-0
e2 <- sample(a,e)
for(j in e2){
iter <- iter + 1
if(iter > 2){print(iter)}
iid_dyad <- rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],j))
}
}
}
iid_dyad[order(iid_dyad[,1],iid_dyad[,2]),]
### Sample iid dyads ###
rm(list = ls())
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
}
iid_dyad <- iid_dyad[-which(iid_dyad[,1] == iid_dyad[,2]),]
iid_dyad <- unique(iid_dyad[,1:2])
iid_dyad <- cbind(iid_dyad,sample(3,length(iid_dyad[,1]),replace = TRUE))
for(i in 1:length(iid_dyad[,1])){
if(runif(1) < 0.3){
e <- sample(2,1)
a <- c(1,2,3)
a <- a[-which(a == iid_dyad[i,3])]
iter<-0
e2 <- sample(a,e)
for(j in e2){
iter <- iter + 1
if(iter > 2){print(iter)}
iid_dyad <- rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],j))
}
}
}
iid_dyad[order(iid_dyad[,1],iid_dyad[,2]),]
a = matrix(0,2,2)
a
rbind(a,c(1,2))
comp_inner_prod(iid_dyad)
iid_dyad
### Sample iid dyads ###
rm(list = ls())
N <- 71
iid_dyad <- matrix(sample(N, 2*0.2*choose(N,2), replace = TRUE),ncol = 2)
for(i in 1:length(iid_dyad[,1])){
if(iid_dyad[i,1] > iid_dyad[i,2]){
t = iid_dyad[i,1]
iid_dyad[i,1] = iid_dyad[i,2]
iid_dyad[i,2] <- t
}
}
iid_dyad <- iid_dyad[-which(iid_dyad[,1] == iid_dyad[,2]),]
iid_dyad <- unique(iid_dyad[,1:2])
iid_dyad <- cbind(iid_dyad,sample(3,length(iid_dyad[,1]),replace = TRUE))
for(i in 1:length(iid_dyad[,1])){
if(runif(1) < 0.3){
e <- sample(2,1)
a <- c(1,2,3)
a <- a[-which(a == iid_dyad[i,3])]
iter<-0
e2 <- sample(a,e)
for(j in e2){
iter <- iter + 1
if(iter > 2){print(iter)}
iid_dyad <- rbind(iid_dyad,c(iid_dyad[i,1],iid_dyad[i,2],j))
}
}
}
iid_dyad <- iid_dyad[order(iid_dyad[,1],iid_dyad[,2]),]
iid_dyad
comp_inner_prod(iid_dyad)
dyad_ip <- comp_inner_prod(iid_dyad)
x1 <- dyad_ip$neighboring_inner_prod
x2 <- dyad_ip$non_neighboring_inner_prod
ks.test(x1,x2)
plot(ecdf(x1),
xlim = range(c(x1, x2)),
col = "blue")
plot(ecdf(x2),
add = TRUE,
lty = "dashed",
col = "red")
data = Lazega_lawyer_network
k <- max(data[,3])
N <- max(data)
unique_dyads <- unique(data[,1:2])
unique_dyads
iid_dyad
